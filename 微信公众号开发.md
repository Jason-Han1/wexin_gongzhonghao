## 微信公众号开发
* 验证服务器地址有效性
	* url 服务器的地址
	* token 用来加密签名，随意填写（尽量多、复杂）
* 将本地服务器地址变成外网跨域访问的网址
	* 内网穿透：将本地服务器端口号地址映射成外网
	* ngrok
* 验证服务器地址有效性
	* 将三个参数timestamp、nonce、token组合起来，进行字典序排序
	* 将排序完的字符串拼接在一起
	* 将拼接好字符串进行sha1加密
	* 将加密的字符串与微信传过来的签名对比，如果正确说明验证成功，


* 封装抽象代码
	* 将config配置文件封装起来
	* 将中间件的回调函数封装起来

* 获取access_token
	* 创建一个构造函数Wechat 用来处理access_token
	* 是在中间件中new出来的，所以函数体里面的内容会被执行
	* getAccessToken 
		* 请求地址（需要appID和appsecret，通过this拿到，注意箭头函数问题），
		* 通过request-promise库（依赖于request）发送请求，返回一个promise对象，通过resolve方法返回请求结果
	* saveAccessToken
		* 在获取access_token后，需要保存access_token
		* 保存方法放在utils/tools中，writeFileAsync
			* 注意data不能是js对象，需要转化
			* 以及./路径的问题（哪里最终调用代表哪个目录）此处引入path模块解决
		* 在getAccessToken下的then方法成功回调中调用此方法
	* 注意：我需要将调用的函数依次通过promise方式向下传递，所以每个方法必须return一个promise对象